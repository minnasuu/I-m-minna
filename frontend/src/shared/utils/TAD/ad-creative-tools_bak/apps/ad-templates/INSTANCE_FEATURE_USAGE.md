# 实例功能使用说明

## 功能概述

现在模板详情弹窗支持实例查看功能，用户可以：
1. 在弹窗下方看到该模板的所有实例（小卡片形式）
2. 点击实例卡片切换到实例查看模式
3. 在实例查看模式下，原模板会缩小显示在左上角，实例在右侧主要区域显示
4. 可以查看实例的源码
5. 支持返回模板查看模式

## 使用流程

### 1. 查看模板实例列表
- 在模板详情弹窗中，如果该模板有实例，会在内容区域下方显示实例列表
- 实例以小卡片形式展示，包含：
  - 实例的缩略预览
  - 实例名称
  - 创建日期

### 2. 切换到实例查看模式
- 点击任意实例卡片
- 弹窗会切换到实例对比模式：
  - 左侧1/3区域：原模板（缩小显示）
  - 右侧2/3区域：选中的实例（主显示）
  - 顶部有"返回模板"按钮

### 3. 实例查看功能
- 可以查看实例的源码（HTML、CSS、JavaScript）
- 支持复制实例的代码
- "添加为实例"按钮在实例查看模式下隐藏
- 源码按钮显示为"实例源码"

### 4. 返回模板查看
- 点击"返回模板"按钮
- 或者切换到其他模板时自动返回

## 技术实现要点

### 状态管理
- `viewMode`: 'template' | 'instance' - 当前查看模式
- `currentInstance`: ComponentInstance | null - 当前查看的实例

### 视图切换
- 模板查看模式：显示可编辑的模板内容和实例列表
- 实例查看模式：左右分栏显示原模板和实例对比

### 响应式设计
- 实例卡片支持横向滚动
- 对比视图采用flexbox布局
- 缩放比例自动计算适配容器大小

## 样式特色

### 实例卡片
- 宽度：128px
- 预览高度：80px
- 悬停效果：边框颜色变化、阴影
- 截断文本显示

### 对比视图
- 原模板：1/3宽度，带标题和边框
- 实例：2/3宽度，带实例名称和创建时间
- 统一的圆角和边框样式

### 交互反馈
- 卡片悬停效果
- 按钮状态变化
- 平滑的视图切换

## 扩展性

该实现为未来功能扩展预留了空间：
- 实例编辑功能
- 实例删除功能
- 实例排序和筛选
- 批量操作实例
- 实例版本管理

## 注意事项

1. 实例数据依赖 `component.instance_templates` 数组
2. 实例预览使用固定缩放比例 (0.15)
3. 切换模板时会自动重置视图状态
4. 代码查看功能会根据当前模式显示对应的代码
